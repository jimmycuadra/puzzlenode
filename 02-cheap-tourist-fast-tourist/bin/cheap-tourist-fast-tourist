#!/usr/bin/env ruby

require_relative "../lib/flights"

test_cases = []
index = 0
next_match_starts_new_test_case = false

lines = File.readlines("fixtures/sample-input.txt")
3.times { |n| lines.shift }

lines.each do |line|
  flight_data = line.chomp.split

  if flight_data.size <= 1
    next_match_starts_new_test_case = true
    next
  end

  if next_match_starts_new_test_case
    next_match_starts_new_test_case = false
    index += 1
  end

  test_cases[index] ||= Flights.new
  test_cases[index] << flight_data
end

output = []

test_cases.each_with_index do |flights, i|
  output << flights.cheapest
  output << flights.fastest
  output << ""
end

output.pop
puts output
